@import "../bootstrap/less/variables.less";

//
// Sub-Menus
// --------------------------------------------------

.dropdown-submenu {
	position: relative;

	> a:before {
		display: block;
		float: right;
		width: 0;
		height: 0;
		content: "";
		margin-top: @line-height-computed / 2 - @caret-width-base;
		margin-right: -@caret-width-base * 2;
		border-width: @caret-width-base 0 @caret-width-base @caret-width-base;
		border-style: solid;
		border-left-style: dashed;
		border-top-color: transparent;
		border-bottom-color: transparent;
	}

	> .dropdown-menu {
		top: 0;
		left: 100%;
		margin-top: -6px;
		margin-left: -1px;
		border-top-left-radius: 0;
	}
}

.make-nested-list(@n, @i: 0) when (@i < @n) {
	> .dropdown-menu > li {
		> a {
			padding-left: 35px + (10 * @i);
		}

		.make-nested-list(@n, @i + 1);
	}
}

.navbar-nav {
	@media (max-width: @grid-float-breakpoint-max) {
		.dropdown-submenu > a {
			padding-left: 40px;

			&:before {
				margin-top: (@line-height-computed / 2) - (@caret-width-base / 2);
				border-color: inherit;
				border-width: @caret-width-base @caret-width-base 0;
				border-left-color: transparent;
				border-right-color: transparent;
			}
		}

		> .dropdown > .dropdown-menu > .dropdown-submenu {
			.make-nested-list(5);
		}
	}
}
