@import "../bootstrap/less/variables.less";

//
// Sub-Menus
// --------------------------------------------------

.dropdown-submenu {
	position: relative;

	> a:after {
		float: right;
		content: "";
		margin-top: @line-height-computed / 2 - @caret-width-base;
		margin-right: -@caret-width-base * 2 - 2;
		border-width: @caret-width-base 0 @caret-width-base @caret-width-base;

		// dashed: fix caret size for Mozilla Firefox
		border-style: solid solid solid dashed;

		border-top-color: transparent;
		border-bottom-color: transparent;
	}

	> .dropdown-menu {
		top: 0;
		left: 100%;
		margin-top: -6px;
		border-top-left-radius: 0;
	}
}

.make-nested-list(@i, @n) when (@i < @n) {
	> .dropdown-menu > li {
		> a {
			padding-left: 35px + (10 * @i);
		}

		.make-nested-list(@i + 1, @n);
	}
}

@media (max-width: @grid-float-breakpoint-max) {
	.navbar-nav {
		.dropdown-submenu > a:after {
			margin-top: @line-height-computed / 2 - @caret-width-base / 2;
			border-width: @caret-width-base @caret-width-base 0;
			border-top-color: inherit;
			border-left-color: transparent;
			border-right-color: transparent;
		}

		> .dropdown > .dropdown-menu > .dropdown-submenu {
			.make-nested-list(0, 4);
		}
	}
}
