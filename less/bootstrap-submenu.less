@import "../bootstrap/less/variables.less";
@import "../bootstrap/less/mixins/vendor-prefixes.less";

//
// Sub-Menus
// --------------------------------------------------

.dropdown-submenu {
	position: relative;

	> a:after {
		float: right;
		content: "";
		margin-top: @line-height-computed / 2 - @caret-width-base;
		margin-right: -@caret-width-base * 2 - 2;
		border-top: @caret-width-base solid transparent;

		// dashed: fix caret size for Mozilla Firefox
		border-left: @caret-width-base dashed;

		border-bottom: @caret-width-base solid transparent;
	}

	> .dropdown-menu {
		top: 0;
		left: 100%;
		margin-top: -6px;
		border-top-left-radius: 0;
	}
}

.make-nested-list(@i, @n) when (@i < @n) {
	> .dropdown-menu > li {
		> a {
			padding-left: 35px + (10 * @i);
		}
		.make-nested-list(@i + 1, @n);
	}
}

@media (max-width: @grid-float-breakpoint-max) {
	.open.dropdown-submenu .dropdown-menu {
		position: static;
		.box-shadow(none);
		border: 0;
		margin-top: 0;
	}

	.dropdown-submenu > a:after {
		margin-top: @line-height-computed / 2 - @caret-width-base / 2;

		// dashed: fix caret size for Mozilla Firefox
		border-top: @caret-width-base dashed;

		border-left: @caret-width-base solid transparent;
		border-right: @caret-width-base solid transparent;
		border-bottom-width: 0;
	}

	.dropdown > .dropdown-menu > .dropdown-submenu {
		.make-nested-list(0, 4);
	}
}
